<!DOCTYPE html>
<html>
<body>

<h1>cat iframe</h1>
<p>testing</p>
<button type="button" onclick ="makeCall('http://2leep.com:3000/?action=setcookie')">Make request to set a cookie!</button>
<button type="button" onclick ="makeCall('http://2leep.com:3000/')">Make another request!</button>

<script type='text/javascript'>
function makeCall(url) {
    let req = new Request(url, {
        method: 'GET', 
        headers: new Headers(),
        mode: 'cors'
    });
    fetch(req)
        .then((response) => {
            if (response.ok) {
                return response.json();
            }
            else {
                throw new Error('Bad HTTP stuff');
            }
        })
        .then((jsonData) => {
            console.log(jsonData);
        })
        .catch((err) => {
            console.log('error: ', err.message);
        });

}

</script>
</body>
</html>